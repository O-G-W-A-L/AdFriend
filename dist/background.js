console.log("AdFrined background script loaded");chrome.runtime.onInstalled.addListener(()=>{chrome.storage.local.get(["settings"],e=>{e.settings||chrome.storage.local.set({settings:{enabled:!0,contentType:"random",stylePreset:"default"}})})});chrome.runtime.onMessage.addListener((e,s,n)=>{if(e.action==="saveSettings")return chrome.storage.local.set({settings:e.settings},()=>{chrome.tabs.query({active:!0,currentWindow:!0},t=>{t.forEach(r=>{chrome.scripting.executeScript({target:{tabId:r.id},files:["contentScript.js"]})})})}),!0});
